---
title: nodejsä¸­å¦‚ä½•é€šè¿‡ä»£ç†å‘é€è¯·æ±‚
---

æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨`fetch` (nodejs@18)æˆ–è€…`node-fetch`æ¥å‘é€è¯·æ±‚ï¼Œä½†æ˜¯è¯·æ±‚ä¸ä¼šèµ°æœ¬æœºä»£ç†ï¼Œè¿™ä¼šå¯¼è‡´è¯·æ±‚å¢™å¤–çš„èµ„æºå¤±è´¥ã€‚è¦æƒ³åœ¨ nodejs ä¸­è¯·æ±‚å¢™å¤–èµ„æºï¼Œéœ€è¦é€šè¿‡ä»£ç†ï¼ˆç§‘å­¦ä¸Šç½‘ï¼‰ã€‚

`node-fetch` æ”¯æŒä¼ å…¥ `agent` å‚æ•°ï¼Œç”¨æ¥é…ç½®ä»£ç†ã€‚[https-proxy-agent](https://github.com/TooTallNate/node-https-proxy-agent)æ˜¯ä¸€ä¸ªä»£ç†åº“ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆ `agent` ã€‚

```jsx
const proxy = "http://127.0.0.1:7890"
const httpsProxyAgent = new HttpsProxyAgent(proxy)

fetch("https://www.google.com", {
  agent: httpsProxyAgent,
})
```

ä¸€èˆ¬ VPN çš„ä»£ç†éƒ½æ˜¯`http://127.0.0.1:7890` ï¼Œå¹¶ä¸” VPN è½¯ä»¶ä¼šæä¾›å¤åˆ¶ä»£ç†åˆ°å‘½ä»¤è¡Œçš„åŠŸèƒ½ï¼Œä¸€èˆ¬å¤åˆ¶çš„å‘½ä»¤æ˜¯`export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890` ã€‚

æ‰€ä»¥ä¸Šé¢çš„ä»£ç å¯ä»¥æ”¹ä¸ºä»ç¯å¢ƒå˜é‡ä¸­è·å– proxy

```jsx
const httpsProxyAgent = new HttpsProxyAgent(process.env.http_proxy)
```

æ³¨æ„ï¼Œnode@18 åŸç”Ÿçš„ `fetch` æ˜¯ä¸æ”¯æŒé…ç½® `agent` çš„ã€‚ ğŸ¤·â€â™‚ï¸
